(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{141:function(e,t,a){e.exports=a(250)},146:function(e,t,a){},203:function(e,t){},204:function(e,t){},211:function(e,t){},213:function(e,t){},250:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),l=(a(146),a(22)),s=a(23),c=a(26),u=a(24),m=a(25),p=a(14),d=a(12),h=a(71),f=a.n(h),b=a(30),g=a.n(b),E=function(e){e?g.a.defaults.headers.common.Authorization=e:delete g.a.defaults.headers.common.Authorization},v=function(e){return{type:"SET_CURRENT_USER",payload:e}},w=function(){return function(e){localStorage.removeItem("jwtToken"),E(!1),e(v({}))}},y=a(18),O=a(36),k=a(122),j=a(91),S=a(169),C={isAuthenticated:!1,user:{},loading:!1},x={},N=Object(O.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(j.a)({},e,{isAuthenticated:!S(t.payload),user:t.payload});case"USER_LOADING":return Object(j.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),T=[k.a],_=Object(O.e)(N,{},Object(O.d)(O.a.apply(void 0,T),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||O.d)),U=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",{className:"z-depth-0"},r.a.createElement("div",{className:"nav-wrapper white"},r.a.createElement(p.b,{to:"/",style:{fontFamily:"monospace"},className:"col s5 brand-logo center black-text"},"Splits"))))}}]),t}(n.Component),D=(n.Component,a(123)),R=Object(y.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(D.a)(e,["component","auth"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/"})}}))})),A=a(281),L=a(283),I=a(293),W=a(285);function P(){var e=Object(A.a)({root:{flexGrow:1,backgroundColor:"#303030",marginBottom:"20px"},link:{textDecoration:"none"}})();return r.a.createElement(L.a,{className:e.root},r.a.createElement(I.a,{indicatorColor:"primary",textColor:"primary",centered:!0,value:0},r.a.createElement(p.b,{to:"/dashboard/workout"},r.a.createElement(W.a,{value:0,className:e.link,label:"View Today's Workout"})),r.a.createElement(p.b,{to:"/dashboard/switch"},r.a.createElement(W.a,{value:1,className:e.link,label:"Choose Split"}))))}a(174);var M=function(e){function t(e){var a;Object(l.a)(this,t);return(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={user:a.props.user,split:"",workoutId:"",workout:{},isLoading:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.props.auth.user,a=(new Date).getDay();g.a.post("/api/users/workout",{user:t,weekday:a}).then((function(t){200==t.status&&1==e._isMounted?(console.log("weekday = "+t.data.weekday),""==t.data.workoutId?e.setState({workoutId:"",isLoading:!1}):e.setState({split:t.data.split,workoutId:t.data.workoutId,workout:t.data.workout,isLoading:!1})):console.log("Unmounted")}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){if(this.state.isLoading)return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Loading..."));if(""==this.state.workoutId)return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"REST DAY"));var e=[];for(var t in this.state.workout)this.state.workout.hasOwnProperty(t)&&(console.log(t+" -> "+this.state.workout[t]),e.push(r.a.createElement("li",{key:t},t," : ",this.state.workout[t])));return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h3",null,this.state.split.toUpperCase()," - ",this.state.workoutId.toUpperCase()),r.a.createElement("ul",null,e))}}]),t}(n.Component),q=Object(y.b)((function(e){return{auth:e.auth}}))(M),F=a(70),B=(a(245),function(e){function t(e){var a;Object(l.a)(this,t);return(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={user:a.props.user,isMounted:!1,split:"",isLoading:!0},a.handleClick=a.handleClick.bind(Object(F.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,g.a.post("/api/users/getSplit",this.state.user).then((function(t){(t.status=e._isMounted)?e.setState({split:t.data.split,isLoading:!1}):console.log("Unable to qeury data")}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleClick",value:function(e,t){var a=this;t.preventDefault(),g.a.post("/api/users/switch",{user:this.state.user,split:e}).then((function(e){(e.status=a._isMounted)?(a.setState({split:e.data.split}),console.log(a.state.split)):console.log("Unable to change split")}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"Current split : ",this.state.isLoading?"Loading...":this.state.split),r.a.createElement("div",{className:"row",style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("button",{onClick:function(t){return e.handleClick("ppl",t)},href:"/"},"Push-Pull-Legs"),r.a.createElement("button",{onClick:function(t){return e.handleClick("upper/lower",t)},href:"/"},"Upper - Lower"),r.a.createElement("button",{onClick:function(t){return e.handleClick("full",t)},href:"/"},"Full Body")))}}]),t}(n.Component)),G=Object(y.b)((function(e){return{auth:e.auth}}))(B),V=a(286),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return r.a.createElement(p.a,null,r.a.createElement(V.a,{maxWidth:"sm",style:{display:"block",marginTop:"64px"}},r.a.createElement(P,null),r.a.createElement(d.b,{exact:!0,path:"/dashboard"},r.a.createElement(d.a,{to:"/dashboard/workout"})),r.a.createElement(d.b,{path:"/dashboard/workout",render:function(t){return r.a.createElement(q,Object.assign({},t,{user:e}))}}),r.a.createElement(d.b,{path:"/dashboard/switch",render:function(t){return r.a.createElement(G,Object.assign({},t,{user:e}))}}),r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",marginLeft:"auto",marginRight:"auto",display:"block"},onClick:this.onLogoutClick,className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Logout")))}}]),t}(n.Component),z=Object(y.b)((function(e){return{auth:e.auth}}),{logoutUser:w})(X),Y=a(35),J=a(295),$=a(290),H=a(288),K=a(291),Q=a(289),Z=a(292),ee=a(76),te=a.n(ee),ae=a(287);function ne(){return r.a.createElement(ae.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Splits"," ",(new Date).getFullYear(),".")}var re=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},input:{borderBottom:"none !important"}}}));var oe=Object(y.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){g.a.post("/api/users/register",e).then((function(e){return t.push("/")})).catch((function(e){return a({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(d.g)((function(e){var t=re(),a=r.a.useState(""),o=Object(Y.a)(a,2),i=o[0],l=o[1],s=r.a.useState(""),c=Object(Y.a)(s,2),u=c[0],m=c[1],d=r.a.useState(""),h=Object(Y.a)(d,2),f=h[0],b=h[1],g=r.a.useState(""),E=Object(Y.a)(g,2),v=E[0],w=E[1],y=r.a.useState({}),O=Object(Y.a)(y,2),k=O[0],j=O[1];function S(t){t.preventDefault();var a={name:v,email:i,password:u,password2:f};e.registerUser(a,e.history)}return Object(n.useEffect)((function(){e.auth.isAuthenticated&&e.history.push("/dashboard"),e.errors&&(j(e.errors),console.log(k))}),[e]),r.a.createElement(V.a,{component:"main",maxWidth:"xs"},r.a.createElement(H.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(J.a,{className:t.avatar},r.a.createElement(te.a,null)),r.a.createElement(ae.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:S},r.a.createElement(Q.a,{container:!0,spacing:2},r.a.createElement(Q.a,{item:!0,xs:12},r.a.createElement(K.a,{autoComplete:"fname",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Full Name",autoFocus:!0,error:null!=k.name,helperText:k.name,onChange:function(e){return w(e.target.value)},inputProps:{className:t.input}})),r.a.createElement(Q.a,{item:!0,xs:12},r.a.createElement(K.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",error:null!=k.email,helperText:k.email,onChange:function(e){return l(e.target.value)},inputProps:{className:t.input}})),r.a.createElement(Q.a,{item:!0,xs:12},r.a.createElement(K.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:null!=k.password,helperText:k.password,onChange:function(e){return m(e.target.value)},inputProps:{className:t.input}})),r.a.createElement(Q.a,{item:!0,xs:12},r.a.createElement(K.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",autoComplete:"current-password",error:null!=k.password2,helperText:k.password2,onChange:function(e){return b(e.target.value)},inputProps:{className:t.input}}))),r.a.createElement($.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onSubmit:S},"Sign Up"),r.a.createElement(Q.a,{container:!0,justify:"flex-end"},r.a.createElement(Q.a,{item:!0},r.a.createElement(p.b,{to:"/",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(Z.a,{mt:5},r.a.createElement(ne,null)))})));function ie(){return r.a.createElement(ae.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Splits"," ",(new Date).getFullYear(),".")}var le=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var se=Object(y.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){g.a.post("/api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),E(a);var n=f()(a);t(v(n))})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})((function(e){var t=le(),a=r.a.useState(""),o=Object(Y.a)(a,2),i=o[0],l=o[1],s=r.a.useState(""),c=Object(Y.a)(s,2),u=c[0],m=c[1],d=r.a.useState({}),h=Object(Y.a)(d,2),f=h[0],b=h[1];return Object(n.useEffect)((function(){e.auth.isAuthenticated&&e.history.push("/dashboard"),e.errors&&(b(e.errors),console.log(f))}),[e]),r.a.createElement(V.a,{component:"main",maxWidth:"xs"},r.a.createElement(H.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(J.a,{className:t.avatar},r.a.createElement(te.a,null)),r.a.createElement(ae.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a={email:i,password:u};e.loginUser(a)}},r.a.createElement(K.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,error:null!=f.email||null!=f.emailnotfound,helperText:f.email||f.emailnotfound,onChange:function(e){return l(e.target.value)}}),r.a.createElement(K.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:null!=f.password||f.passwordincorrect,helperText:f.password||f.passwordincorrect,onChange:function(e){return m(e.target.value)},inputProps:{className:t.input}}),r.a.createElement($.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),r.a.createElement(Q.a,{container:!0},r.a.createElement(Q.a,{item:!0},r.a.createElement(p.b,{to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(Z.a,{mt:8},r.a.createElement(ie,null)))}));if(localStorage.jwtToken){var ce=localStorage.jwtToken;E(ce);var ue=f()(ce);_.dispatch(v(ue));var me=Date.now()/1e3;ue.exp<me&&(_.dispatch(w()),window.location.href="./login")}var pe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{store:_},r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(U,null),r.a.createElement(d.b,{exact:!0,path:"/",component:se}),r.a.createElement(d.b,{exact:!0,path:"/register",component:oe}),r.a.createElement(d.d,null,r.a.createElement(R,{path:"/dashboard",component:z})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[141,1,2]]]);
//# sourceMappingURL=main.ffcba912.chunk.js.map